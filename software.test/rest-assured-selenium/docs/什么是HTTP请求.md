## 什么是 HTTP 请求？

正如在客户端架构模型中已经理解的那样，客户端向服务器发送请求以获取一些信息或数据。此外，客户端的请求是一个 HTTP
请求，它在客户端和服务器之间进行通信，或者您可以说是两个不同的计算机系统。*此外，它是一个格式为XML*或*JSON*
的简单文本文件，它将客户端的二进制数据发送到服务器。一个简单的 GET HTTP 请求如下所示 -

![示例 HTTP 请求](https://toolsqa.com/gallery/Rest%20Assured/1.Sample%20HTTP%20Request.webp)

此外，这种情况下的请求 URI 是 -

***https://bookstore.toolsqa.com/BookStore/v1/Books***

### ***有哪些不同的 HTTP 请求方法？***

HTTP 请求方法指定通过请求执行的操作。这些也称为动词，通常用于***CRUD 操作***，即创建、读取、更新和删除。此外，HTTP
请求方法区分大小写，并且应该始终为大写。随后，让我们看看一些常用的 HTTP 方法：

**1.** ***GET -**顾名思义，Get 方法从服务器获取信息。而且，它是最常用的方法，没有请求体。每次打开网站时，都会触发 Get
请求以检索网站内容。另外，它相当于读操作。GET 方法的一些主要功能是 -*

- *我们可以使用 GET 方法轻松地为数据添加书签。*
- *对于 GET 方法，值的长度限制通常为 255 个字符。*
- *GET 仅支持字符串数据类型。*
- *GET 请求是可缓存的。*
- *GET 方法中传递的参数存储在浏览器历史记录中。*

*GET 请求示例如下所示 -*

***获取 https://bookstore.toolsqa.com/BookStore/v1/Books HTTP/1.1***

**2.** ***HEAD：** Head 方法与 Get
方法类似，但它只检索头部数据，而不是整个响应体。此外，当您需要在不下载文档的情况下检查文档的文件大小时，我们会使用它。*

**3.** ***POST：** Post 方法用于向服务器发送数据。您可以使用 Post 请求添加或更新数据。我们在请求正文中发送需要更新的信息。在现实世界中，网站上的表单数据使用
Post 请求进行更新。POST 方法的一些关键特性是 -*

- *通过 POST 方法传递的数据在浏览器 URL 中不可见。*
- *此外，通过 POST 传递的值不会存储在浏览器历史记录中。*
- *而且，通过 POST 方法发送的数据长度没有限制。*
- *此外，POST 方法请求支持不同的数据类型，如字符串、二进制、整数等。*

**4.** ***PUT：** Put 方法类似于 Post 方法，因为它更新数据。唯一的区别是当我们必须完全替换现有实体时使用它。此外，PUT
方法是幂等的，即它们在重复执行时返回相同的结果。*

**5.** ***PATCH：**这个方法又类似于 Post 和 Put 方法，但是当我们必须部分更新一些数据时使用它。此外，与 Post 和 Put
方法不同，您可以使用 Patch 方法仅在请求正文中发送需要更新的实体。*

**6.** ***DELETE：**就像它的名字一样，Delete 方法通过特定的 URL 删除服务器对资源的表示。此外，就像 Get
方法一样，它们没有请求正文。*

**7.** ***选项：**与其他方法相比，这不是一种广泛使用的方法。它返回指定给定 URL 处服务器支持的不同方法和操作的数据。此外，它使用
Allow 标头进行响应，给出资源允许的 HTTP 方法列表。*

*现在让我们看看一个简单的 HTTP 请求的结构是怎样的。*

### ***HTTP 请求的结构是什么？***

下一步是了解 HTTP 请求的外观和结构。HTTP 请求包括：

1. *请求行*
2. *零个或多个标题*
3. *可选的请求正文*

现在让我们看看这些组件是什么，但在此之前，让我们看看由 ToolsQA 开发的一个简单的***BookStore REST API 。***

- ***资源网址：** https ://bookstore.toolsqa.com/*
- ***参数：** BookStore/v1/Books*

结合以上两部分，我们的请求 URL 变为 -

[***https://bookstore.toolsqa.com/BookStore/v1/Books***](https://bookstore.toolsqa.com/BookStore/v1/Books)

现在您需要打开一个浏览器窗口并点击此 URL。随后，您可以打开浏览器开发人员工具并在点击 URL 之前导航如下图中突出显示的网络选项卡。

![通过开发者工具打开网络](https://toolsqa.com/gallery/Rest%20Assured/2.Opening%20Network%20through%20developer%20tools.jpg)

点击 URL 后，您会看到一些请求正在发送；您需要单击下面突出显示的第一个，并看到详细的请求描述显示在右侧。

![控制台中的请求描述](https://toolsqa.com/gallery/Rest%20Assured/3.Request%20Description%20in%20console.webp)

最后，我们现在已经准备好了解 HTTP 请求的不同组件了。

#### ***请求行***

请求行是 HTTP 请求中的第一行。三部分的组合形成了它-

1. ***使用的 HTTP 方法***
2. ***请求 URI***
3. ***HTTP 协议版本***

回顾我们的示例，我们案例的请求行如下所示：

```java
GET /BookStore/v1/Books HTTP/1.1
```

##### ***HTTP 方法***

如上所述，HTTP 方法指定应通过请求执行的操作。此外，您会遇到的最常见的方法是 GET 或 POST。随后，我们将在本文后面看到两者之间的区别。

##### ***请求 URI***

请求URI，即统一资源标识符，有助于识别请求所应用的资源。请求 URI 具有通用格式，如下所示。

```java
Request-URI = "*" | absoluteURI | abs_path | authority
```

让我们看一些如何使用上述请求 URI 的示例。

1. *当我们使用星号*“,”时，
   *它意味着请求直接发送到服务器而不是特定资源。此外，当请求中的方法不适用于资源时，我们必须使用它。例如-*

***选项 \* HTTP/1.1***

1. *此外，当我们向代理发出请求时，abosulteURI 形式是必须的，代理将请求转发到有效缓存并返回响应。此外，绝对路径不能为空。如果不存在任何内容，则应在
   URI 中以“ **/** ”（服务器根）的形式给出。例子-*

***获取 https://www.toolsqa.com/HTTP/1.1***

1. *此外，最常见的 Request-URI 形式是我们在示例中使用的形式。**客户端通过创建到主机“ bookstore.toolsqa.com** ”的端口 80 的
   TCP 连接直接从源服务器获取资源，并在请求中发送以下行 -*

***GET /BookStore/v1/Books HTTP/1.1*** ***主机：bookstore.toolsqa.com***

##### ***HTTP 协议版本***

HTTP 协议版本允许发送者指定消息的格式以及它理解进一步通信的能力。另外， ***HTTP/1.1***是我们常用的标准化协议版本。

#### ***请求标头***

使用请求标头，客户端可以向服务器以及客户端本身发送有关请求的附加信息。此外，请求中可以有零个或多个
headers，可以定义内容类型、授权规范、Cookie 信息等。此外，我们还可以根据需要使用 x-syntax 定义自定义 headers。下面的快照显示了我们用作示例的
HTTP 请求的不同标头。此外，请求行也是一个亮点。

![HTTP 请求标头和请求行](https://toolsqa.com/gallery/Rest%20Assured/4.HTTP%20Request%20Header%20and%20Request%20Line.webp)

在上述请求中，您在测试 API 时会经常遇到一些标头字段。因此，让我们快速浏览一下它们 -

- ***User-Agent：**让服务器识别应用程序、操作系统、供应商和版本。*
- ***Connection：**控制网络连接。换句话说，在事务之后终止或继续连接。*
- ***Cache-Control：**指定浏览器缓存策略。*
- ***Accept-Language：**表示客户可以理解的所有语言（自然）。*

除了上述之外，根据要求使用的一些常见请求标头字段是 -

- *接受字符集*
- *接受编码*
- *授权*
- *内容长度*
- *内容类型*
- *曲奇饼*
- *预计*
- *从*
- *主持人*
- *如果匹配*
- *If-Modified-Since*
- *无匹配*
- *如果范围*
- *If-Unmodified-Since*
- *最大前锋*
- *代理授权*
- *范围*
- *参考*
- *这*

#### ***请求正文***

请求正文向服务器发送附加信息以正确地从请求中获取数据。在我们的示例中，我们没有在请求标头之后发送任何请求正文，如上面的快照所示。此外，请求正文可以是
XML 或 JSON 的形式。随后，在接下来的文章中，我们将更详细地看到这些请求。

## GET 与 POST 方法

GET 和 POST 方法的区别是面试中最常见的问题。让我们看看区分这两种方法的一些要点。

| ***得到***                                | ***邮政***                                                         |
|-----------------------------------------|------------------------------------------------------------------|
| 数据通过标头                                  | 数据流经请求正文                                                         |
| 数据大小限制为 255 个字符                         | 数据大小没有限制                                                         |
| 由于数据是通过 URL 传递的，因此变得不安全                 | 数据是安全的，因为它没有被暴露                                                  |
| GET 请求在发送下一个请求之前等待上一个请求的响应              | POST 请求在点击下一个请求之前不会等待上一个请求的成功响应。                                 |
| 可以缓存                                    | 它不能缓存。                                                           |
| 可以加书签                                   | 它不能添加书签。                                                         |
| 与 POST 相比，性能更好，因为这些值默认附加到 URL           | 与 GET 相比，性能效率较低，因为我们花了一些时间在 POST 请求中包含请求正文值                      |
| 只允许字符串数据类型                              | 对数据类型没有限制                                                        |
| 参数存储在浏览器历史记录中                           | 参数不会存储在浏览器历史记录中                                                  |
| 如果我们点击重新加载按钮，对数据没有影响。                   | 如果我们点击重新加载按钮，表单数据会重置。                                            |
| 使用 application/x-www-form-urlencoded 编码 | 对二进制数据使用 application/x-www-form-urlencoded 或 multipart/form-data |

## 关键要点

- *HTTP 请求向服务器发送请求以获取所需信息。*
- *此外，我们看到了不同的请求方法以及它们有什么用处。*
- *此外，我们还了解了 HTTP 请求结构的外观以及不同的组件是什么。*
- *此外，GET 或 DELETE 请求不需要请求正文。*
- *随后，在我们的下一篇文章中，我们将讨论 HTTP 响应。*