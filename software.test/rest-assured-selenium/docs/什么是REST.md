## 什么是 REST - 具象状态转移？

REST（***RE**演示 状态**传输***）于 2000 年首次由[***Roy Fielding***](https://en.wikipedia.org/wiki/Roy_Fielding)
***提出****，* *作为*分布式***超媒体系统的架构风格。***符合 REST 的系统或 RESTful 系统是***“无状态的”*** *
（本文稍后将讨论）*并将客户端和服务器分开。使用 REST *（RESTful Web 应用程序）*开发的 Web
应用程序公开有关其资源的数据或信息，这些资源可以是开发人员想要的任何东西。这允许使用此应用程序的客户端对资源执行操作。例如，使用向用户公开的信息，客户端可以创建新用户。

再举一个例子，假设我们有一家宠物店，店里所有宠物的相关信息都存储在服务器上。如果我们想要与宠物相关的信息*（假设 id=0
的宠物），*那么我们将在浏览器中访问宠物商店的相应 URL *（此处浏览器将是客户端）。*示例 URL 可以是[
***“https://demoqa.com/BookStore/v1/Books”。***](https://demoqa.com/swagger/#/BookStore/BookStoreV1BooksGet)

上面的界面如下图所示：

![ToolsQA 官方测试 API](https://toolsqa.com/gallery/Rest%20Assured/1.ToolsQA%20official%20APIs%20for%20Testing.png)

上面屏幕截图中显示的所有方法*（彩色按钮）*对应于通过单击按钮执行的 REST API。请注意，这是一个演示网站，因此 API
在屏幕上非常明确。通常，所有这些都在后端完成，并且不会向客户端显示任何此类信息。回来，当我们单击***“GET”***按钮*（/Books）时，*
我们将获得 JSON 格式的响应，该响应将向我们显示特定书籍的详细信息。此响应如下所示：

![什么是 REST - 具象状态转移](https://toolsqa.com/gallery/Rest%20Assured/2.What%20is%20REST%20-%20Representational%20State%20Transfer.png)

*注意：当我们点击**“GET”**按钮时，在浏览器中我们会看到链接变为[**“https://demoqa.com/BookStore/v1/Books”。
**](https://demoqa.com/swagger/#/BookStore/BookStoreV1BooksGet)*

我们将在后续文章中讨论上面显示的所有方法*（以按钮的形式）*。

### ***REST 流的表示***

现在让我们在下图中描述上述示例中的实际 REST 数据传输。

![Get-Post2863](https://toolsqa.com/gallery/Rest%20Assured/3.Get-Post2863.png)

如上图所示，API 充当数据库*（即服务器的一部分）*和客户端之间的通信媒介。当客户端通过 API
发送数据时，它会进入数据库，进行相应的操作*（如添加、删除、修改等）*并返回包含响应代码、头文件、cookie 信息等的响应数据。

我们可以将上图中的 REST 特性和工作总结如下：

- *客户端通过 REST 从服务器访问数据。这可以通过授权访问或不遵循任何严格的指导。*
- *正如我们所见，使用 REST 开发的应用程序是一个交互式应用程序，并且主要使用 Web 服务。在这种情况下，Web 服务遵循 RESTful
  准则并满足本文后面讨论的 REST 约束。*
- *使用 REST 的 Web 服务以文本格式提供 Web 资源，并允许使用一组预定义的操作来读取和编辑它们。*

REST 是一种访问 Web 服务的方式，通常被视为[***SOAP***](https://www.toolsqa.com/soapui/what-is-soapui/)
*（简单对象访问协议）的替代方案。*

在 RESTFul 应用程序中，我们有常用的实体，即客户端和资源。接下来让我们简要讨论它们。

## 什么是客户和资源？

客户端可以是使用 API 访问来自另一个应用服务器的数据的软件或个人或系统。例如，开发人员可以访问 Facebook API
以在他们自己的网站中嵌入实时帖子。开发者程序将通过浏览器调用 Facebook API。因此，在这种情况下，浏览器充当调用 Facebook API
的客户端。

如果我们使用上面的 REST 图表可视化这个系统，客户端或浏览器将通过 REST API 连接到 Facebook-Server，然后获取在屏幕上呈现它所需的信息。

作为另一个例子，假设我有一个应用程序***“myHealthApp”。
***例如，我想要来自某个城市（浦那）的 Covid-19 大流行数据。为此，我将开发 API 或方法，例如***“Corona API”*
**，我可以使用它向浦那市议会 ( *PMC* ) 请求数据。这是使用 myHealthApp 完成的。这意味着使用充当客户端的
myHealthApp，我将通过浏览器*（例如****https://myHealthApp/getCoronaData*** *）使用 Corona API （更具体地说是 getCoronaData
方法）请求数据**。*此 getCoronaData 方法将依次连接到 PMC 服务器并以 JSON 响应*（或任何其他格式）的形式获取所需的数据。*
在客户端，我可以获取该数据并对其执行各种操作。这就是 API 的使用。

### ***什么是 REST 中的资源？***

任何可以通过 URL 和 HTTP 方法转换和寻址的较小单元都被视为资源。此资源对数据库进行更改。对于一个应用程序，您可能拥有大量资源，并且所有资源都分配了特定任务。例如，在线书店可能有一个资源作为数据库的表。REST
架构中的资源是客户端可以访问并可以修改或更新的任何内容。

在某种程度上，您可以说资源是我们需要从 API 获取信息的任何对象。因此，在上面关于 Facebook 的示例中，资源可以是帖子、页面或用户帐户。在
Corona API 的示例中，资源是有关 Corona 的所有详细信息，例如 Corona 数据、治疗页面、疫苗接种等。

## REST 的指导原则或约束

要使 API 成为 RESTful，它必须满足或遵守 REST 定义的以下指导原则或约束。

### ***统一的界面***

统一接口原则具有 API 必须遵循的以下部分：

1. *对服务器的请求需要有一个资源标识符。*
2. *服务器返回响应并包含信息，以便客户端可以修改或编辑资源。*
3. *通过 API 发送的请求包含服务器执行请求所需的信息。服务器返回的每个响应还包含所有信息，以便客户端理解响应。*
4. *超媒体作为应用程序状态的引擎。应用程序是指在服务器上运行的 Web 应用程序。超媒体是响应中包含的超链接或简单链接。所以服务器基本上会通知客户端更改应用程序
   web 的方法。*

### ***客户端-服务器分离***

客户端和服务端的交互是独立的，只是请求的形式。客户端发起请求，服务器发送响应。响应是对请求的反应。所以服务器所做的就是等待接收来自客户端的请求。它永远不会自行向客户端发送有关资源的信息。有关客户端-服务器的更多详细信息，请参阅我们的教程[
***客户端-服务器架构。***](https://toolsqa.com/client-server/client-server-architecture-and-model)

### ***无状态***

***“无状态”***一词意味着服务器不跟踪使用 API 的用户。所以当一个新的请求进来时，服务器将不知道同一个用户是否在过去为同一个资源发送了一个
GET 请求。它不记得用户之前请求的资源。例如，HTTP 是一种无状态协议。HTTP
服务器不跟踪来回传递的任何信息状态。因此，在任何给定时间，客户端都可以发送有效命令，而服务器不会关联或跟踪任何先前的类似命令。

因此，无论用户发出的其他请求如何，每个请求都将包含服务器执行请求和发送响应所需的所有数据。

### ***分层系统***

分层系统在客户端和服务器之间提供层次结构。客户端和服务器之间可能有很多中介与 REST API
一起工作，而无需客户端通知。我们的客户认为存在与服务器的直接连接。然后我们利用它来改进我们的架构并降低我们的分布式系统复杂性。这些中间元素为系统提供了安全层、负载平衡层和其他功能。唯一的准则是这些中间层的存在不应影响请求或响应。

*注意：层的抽象不会让一层知道另一层的存在。*

### ***可缓存***

在响应中接收到的服务器数据包含有关数据是否可缓存的信息。如果数据是可缓存的，它将包含使缓存成为可能的某种版本号。客户端将知道它从先前的响应中获得了哪个版本的数据。这样客户端可以避免请求重复数据。可缓存数据*
（以及版本号）*还有助于客户端了解版本数据的到期时间以及获取最新数据的新请求的要求。

### ***按需编码***

这个特殊的约束***“按需代码”***是可选的，如果不满足它，我们可以拥有一个 RESTful API。

客户端可以向服务器发送请求以获取代码，然后服务器将以脚本或其他实体的形式响应一些代码。例如，服务器可以通过下载和执行预编译代码（如小程序）或客户端脚本（如
JavaScript）来扩展客户端功能。因此，当我们点击 Facebook 上的任何视频时，Facebook 将运行预编译或任何第三方软件来运行该视频。

一旦 API 满足了我们讨论的上述约束，我们就可以说它是一个 RESTful API。

## 关键要点

在本文中，我们讨论了为 Web 服务引入 REST 协议。

1. *REST（REpresentational State Transfer）是一种在主要执行 Web 服务的机器之间运行的标准。*
2. *服务器接收 REST API 形式的请求。然后，服务器运行 Web 应用程序并向客户端发送响应。*
3. *要使 API 成为有效的 REST API（RESTful API），它需要满足我们上面讨论的一些约束。*
4. *RESTful API 遵循这些约束（也称为指导原则）。*